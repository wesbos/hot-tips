<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Scroll Driven Scribbles</title>
    </head>
    <body>
        <div class="spacer"></div>
        <div class="scroller">
            <div class="mask">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    direction="ltr"
                    width="1170.3420917895942"
                    height="563.4353875975255"
                    viewBox="2.4520409461004533 -147.91825503096914 1170.3420917895942 563.4353875975255"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                >
                    <defs />
                    <g transform="matrix(1, 0, 0, 1, 432.5508, -76.9164)" opacity="1">
                        <g transform="scale(1)">
                            <path
                                d="M0,0 Q39.0828,-8.5215 70.8766,-12.1781 T140.9222,-18.3346 219.6787,-22.2333 301.6083,-24.2267 376.5462,-24.9416 432.5217,-24.725 467.1817,-23.9574 484.5975,-23.197 492.2982,-22.48 495.6975,-21.6894 496.1129,-20.5455 489.0962,-17.7622 465.9949,-12.1346 426.78,-4.4039 379.3885,3.5448 328.8584,10.6059 279.7428,16.4963 235.0436,21.1243 192.3334,24.7874 151.4978,28.1009 114.9722,31.4699 82.0321,35.0925 49.966,39.4984 19.7779,44.7002 -8.7064,51.1142 -38.9908,59.5758 -69.6695,69.612 -96.7925,79.866 -115.3434,87.6279 -124.323,91.8007 -127.984,94.0371 -128.2347,96.0398 -122.1456,99.349 -104.6854,104.1825 -72.9164,108.7092 -23.7675,111.4524 43.2013,112.4458 120.8486,111.971 200.5013,110.3575 273.123,108.2516 330.006,106.4595 376.3706,105.5829 418.4832,105.9205 448.1399,107.1162 462.9433,108.1965 469.7609,108.8224 473.0436,109.2178 474.8125,109.5411 475.7167,109.8337 474.3415,110.2628 460.8598,111.9172 424.2353,116.1192 366.922,122.3067 297.7196,128.6882 223.7058,134.7929 152.5635,141.0156 88.5151,148.0475 32.8924,156.2513 -9.406,164.1626 -38.5665,170.7765 -60.8814,176.7326 -80.4306,182.645 -99.7388,188.8579 -120.5947,195.7648 -140.9039,202.5816 -155.1588,207.4682 -162.6862,210.2723 -166.7076,211.9816 -171.7949,213.9759 -185.9658,217.9113 -214.517,223.7382 -251.428,230.1332 -284.6814,235.7319 -307.7496,239.5402 -320.3538,241.5899 -325.9263,242.6595 -326.5465,243.7005 -317.4089,245.684 -290.5657,248.8039 -244.7378,251.898 -187.6617,253.8714 -125.992,255.0551 -61.2458,255.9635 2.4934,256.5078 65.3217,256.4889 133.3605,256.1014 199.3328,256.2616 254.1287,257.3589 300.7907,258.6418 338.539,259.4285 373.9395,259.5904 412.9708,258.7967 449.1723,256.8781 478.9934,254.5476 503.0322,252.4186 522.0548,250.6311 535.1534,249.3166 547.6721,247.8178 565.9875,245.3926 588.2041,242.9588 610.2702,241.3725 631.6457,240.3303 652.1038,239.6286 669.389,238.9825 681.8786,238.1818 689.3228,237.5742 692.1617,237.5574 687.348,239.3414 669.688,244.2252 638.1705,251.8065 593.8665,260.7842 542.3543,269.6684 485.9098,278.4323 417.5712,288.6545 342.5416,299.5855 273.5349,308.9146 211.343,316.4732 157.5385,322.7417 113.4397,328.1601 70.8381,333.6685 20.2852,339.8765 -40.2107,346.5945 -105.1249,352.6409 -171.1005,357.0535 -232.1192,359.9782 -278.9937,362.2965 -313.1523,364.7883 -340.0322,367.5723 -359.9518,370.0521 -372.8653,371.7816 -379.929,372.8099 -383.1007,373.3677 -384.2733,373.7715 -382.7965,374.8775 -369.8179,379.7779 -332.8466,390.6725 -272.0423,404.8333 -201.7242,418.1283 -133.2278,428.669 -67.2248,436.0583 -5.5648,440.1188 53.065,440.5622 119.4315,437.1857 191.849,431.8608 259.0815,427.7175 323.0637,425.3787 384.187,423.9218 434.0125,423.2538 469.6812,423.864 492.8904,425.4976 506.0088,427.0342 514.6776,428.383 530.6352,430.3392 561.4781,432.9415 599.5154,435.9134 634.9208,439.2896 663.7681,442.6622 685.2221,445.3905 L694.34,446.55 "
                                stroke-linecap="round"
                                fill="none"
                                pointer-events="all"
                                stroke="black"
                            />
                        </g>
                    </g>
                </svg>
            </div>
            <div class="video">
                <video src=""></video>
            </div>
        </div>
        <div class="spacer"></div>

        <style>
            .scroller {
                display: grid;
                grid-templagrid-template-columns: 1fr 2fr;

                & > * {
                    grid-area: 1 / 1;
                    width: 100%;
                }
                .mask {
                    z-index: 2;
                }
                video,
                svg {
                    width: 100%;
                    height: 100%;
                }
            }

            .mask {
                mix-blend-mode: lighten;
                background: white;
            }

            path {
                stroke-width: 100;
                stroke-dasharray: 5700;
                stroke-dashoffset: 5700;
                view-timeline-name: --scribble-path;
                view-timeline-axis: block;
                animation: linear draw both;
                animation-timeline: --scribble-path;
                animation-range: entry 0% cover 50%;
            }

            @keyframes draw {
                to {
                    stroke-dashoffset: 0;
                }
            }

            .spacer {
                height: 90vh;
            }
        </style>

        <script>
            const video = document.querySelector(`video`);
            navigator.mediaDevices.getUserMedia({ video: true }).then((stream) => {
                video.srcObject = stream;
                video.play();
            });
        </script>
    </body>
</html>
